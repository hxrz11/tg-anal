# Telegram Analytics Bot

Телеграм-бот на базе python-telegram-bot и MongoDB для логирования групповых чатов и управления ими.

## Возможности
- Сбор сообщений из групп и сохранение в MongoDB
- Админ-панель через inline-кнопки
- Отображение списка чатов, где находится бот
- Статистика по чатам
- Отправка сообщения в чат
- Отправка и закрепление сообщения
- Получение сводки по чатам за период (использует OpenAI при наличии ключа)
- Вывод списка всех пользователей из всех чатов
- Создание чеклиста и закрытие задач по номеру

## Настройка
1. Создайте бота через @BotFather и отключите режим приватности.
2. Установите зависимости:
   ```
   pip install -r requirements.txt
   ```
3. Укажите переменные окружения:
   ```
   export BOT_TOKEN=...
   export MONGO_URI="mongodb://localhost:27017"
   export ADMIN_IDS="123456789"
   export OPENAI_API_KEY="sk-..."  # при необходимости сводок
   ```
4. Запустите бота:
   ```
   python bot.py
   ```

В личном чате с ботом администратор отправляет `/admin` для отображения панели управления. Далее следуйте подсказкам.

## Чеклист

Администратор может создать чеклист в любом чате:

```
checklist <chat_id> задача1; задача2; задача3
```

Участники чата отмечают выполнение командой:

```
done <номер>
```
